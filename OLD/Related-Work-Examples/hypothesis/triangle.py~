
from collections import defaultdict
from enum import Enum
from itertools import chain, product
from typing import Type

Triangle = Enum('Triangle', 'equilateral, isosceles, scalene, not_triangle')
# Triangle = Type('Triangle', 'equilateral, isosceles, scalene, not_triangle')

class TriangleError(Exception): pass

def classify(a: int, b: int, c: int) -> Triangle:

    is_triangle = lambda a_,b_,c_: (a <= b+c) and (b <= a+c) and (c <= a+b)
    integers    = lambda a_,b_,c_: isinstance(a_, int) and isinstance(b_, int) and isinstance(c_, int)
    is_valid    = lambda a_,b_,c_: (a_ > 0) and (b_ > 0) and (c_ > 0)      

    assert integers(a, b, c), "All values must be integers"

    if not is_triangle(a, b, c): # and not is_valid(a, b, c):
        # print('sides too short ', end='')
        return Triangle.not_triangle
    elif not is_valid(a, b, c):
        # print('not a valid triangle ', end='')
        return Triangle.not_triangle
    elif a == b and b == c:
        return Triangle.equilateral
    elif a != b and b != c and c != a:
        return Triangle.scalene
    elif a == b or b == c or a == c:
        return Triangle.isosceles

    raise TriangleError(f'Could not classify input a ￫ {a}, b ￫ {b}, c ￫ {c}')


def all_triplets(*sequences):
    """Generates all triplets from the sequences"""
    # source: https://www.geeksforgeeks.org/python-all-pair-combinations-of-2-tuples/
    return chain(product(*sequences), product(*sequences), product(*sequences))

def all_triplets_of(sequence, n=3):
    """Builds n-copies of a sequence and generates all triplets"""
    return all_triplets(*(sequence for _ in range(n)))

# ---------------------------------------------------------

def positive_integers(a: int, b: int, c: int) -> bool:
    """Tests that all values are positive integers"""
    if not (isinstance(a, int) and a > 0):
        return False

    if not (isinstance(b, int) and b > 0):
        return False

    if not (isinstance(c, int) and c > 0):
        return False

    return True


def satisfy_triangle_theorem(a: int, b: int, c: int) -> bool:
    """The Triangle Theorem, ie. sᵢ < s₂+s₃, for all sides"""
    return (a <= b+c) and (b <= a+c) and (c <= a+b)


def is_equilateral(a: int, b: int, c: int) -> bool:
    """Triangle where all sides are equal"""
    return a == b and b == c


def is_isosceles(a: int, b: int, c: int) -> bool:
    """Triangle where two sides are equal"""
    return a == b or b == c or a == c


def is_scalene(a: int, b: int, c: int) -> bool:
    """Triangle where 3 sides are different"""
    return a != b and b != c and a != c
 